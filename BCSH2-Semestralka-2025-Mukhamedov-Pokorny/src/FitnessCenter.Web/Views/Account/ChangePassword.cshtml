@model FitnessCenter.Web.Models.ChangePasswordViewModel

@{
    ViewData["Title"] = "Změna hesla";
    Layout = "_AuthLayout";   // stejný layout jako Login / ForgotPassword
}

<h1 class="h4 text-center mb-2 text-white">Změna hesla</h1>

<p class="text-center text-white-50 mb-4">
    Zadej své aktuální heslo a nové heslo.
    Po změně budeš dál pokračovat do aplikace.
</p>

@if (TempData["Err"] is string err && !string.IsNullOrWhiteSpace(err))
{
    <div class="alert alert-danger small py-2 px-3 mb-3" role="alert">
        @err
    </div>
}

@if (TempData["Ok"] is string ok && !string.IsNullOrWhiteSpace(ok))
{
    <div class="alert alert-success small py-2 px-3 mb-3" role="alert">
        @ok
    </div>
}

<form asp-action="ChangePassword" method="post" novalidate>
    @Html.AntiForgeryToken()

    <div asp-validation-summary="ModelOnly" class="text-danger small mb-2"></div>

    <div class="mb-2">
        <label class="visually-hidden" asp-for="CurrentPassword"></label>
        <input asp-for="CurrentPassword"
               type="password"
               class="form-control form-control-lg"
               autocomplete="current-password"
               placeholder="Aktuální heslo" />
        <span asp-validation-for="CurrentPassword" class="text-danger small"></span>
    </div>

    <div class="mb-2">
        <label class="visually-hidden" asp-for="NewPassword"></label>
        <input asp-for="NewPassword"
               type="password"
               class="form-control form-control-lg"
               autocomplete="new-password"
               placeholder="Nové heslo" />
        <span asp-validation-for="NewPassword" class="text-danger small"></span>
    </div>

    <div class="mb-2">
        <label class="visually-hidden" asp-for="ConfirmPassword"></label>
        <input asp-for="ConfirmPassword"
               type="password"
               class="form-control form-control-lg"
               autocomplete="new-password"
               placeholder="Potvrzení nového hesla" />
        <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
    </div>

    <button type="submit" class="btn btn-primary btn-lg w-100 mt-2">
        Změnit heslo
    </button>
</form>

<div class="mt-3 text-center">
    <a href="@Url.Action("Index", "Home")"
       class="text-white-50 text-decoration-none">
        Pokračovat na hlavní stránku
    </a>
</div>

@section scripts {
    <partial name="_ValidationScriptsPartial" />
}
